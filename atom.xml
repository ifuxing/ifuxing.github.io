<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ifuxing</title>
  
  <subtitle>福星小栈</subtitle>
  <link href="http://ifuxing.cool/atom.xml" rel="self"/>
  
  <link href="http://ifuxing.cool/"/>
  <updated>2020-11-23T08:31:03.275Z</updated>
  <id>http://ifuxing.cool/</id>
  
  <author>
    <name>Felstar</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MyBatis-Plus进阶了解</title>
    <link href="http://ifuxing.cool/2020/02/19/MyBatis-Plus%E8%BF%9B%E9%98%B6%E4%BA%86%E8%A7%A3/"/>
    <id>http://ifuxing.cool/2020/02/19/MyBatis-Plus%E8%BF%9B%E9%98%B6%E4%BA%86%E8%A7%A3/</id>
    <published>2020-02-19T15:14:21.000Z</published>
    <updated>2020-11-23T08:31:03.275Z</updated>
    
    <content type="html"><![CDATA[<p>MybBtis-Plus提供了AbstractWrapper抽象类，提供了很多SQL语法支持的方法，比如模糊查询，比较，区间，分组查询，排序，判断空，子查询等等，方便我们用面向对象的方式去实现sql语句；AbstractWrapper有两个常用的实现类，分别是QueryWrapper和UpdateWrapper，我们以后就用这两个实现类；</p><a id="more"></a><h1 id="一-MybBtis-Plus条件构造器"><a href="#一-MybBtis-Plus条件构造器" class="headerlink" title="一.MybBtis-Plus条件构造器"></a>一.MybBtis-Plus条件构造器</h1><p>这篇主要是讲述MybBtis-Plus的条件构造器,</p><h3 id="1-条件符号对应"><a href="#1-条件符号对应" class="headerlink" title="1. 条件符号对应"></a>1. 条件符号对应</h3><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201116002405.png" alt="image-20201116002404968"></p><h3 id="2-基础比较查询"><a href="#2-基础比较查询" class="headerlink" title="2. 基础比较查询"></a>2. 基础比较查询</h3><h4 id="比较查询"><a href="#比较查询" class="headerlink" title="比较查询"></a>比较查询</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)<span class="comment">//字段名和对应值</span></span><br><span class="line">                .or().<span class="comment">//表示或</span></span><br><span class="line">                .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)  <span class="comment">//表示条件</span></span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>);       <span class="comment">//字段名和多个中的一个</span></span><br><span class="line">      </span><br><span class="line">        <span class="comment">//select * from tb_user where user_name = ? and age &lt; ? and name in (?,?)</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="3-模糊查询"><a href="#3-模糊查询" class="headerlink" title="3.模糊查询"></a>3.模糊查询</h3><h4 id="3-1-分类"><a href="#3-1-分类" class="headerlink" title="3.1 分类"></a>3.1 分类</h4><table><thead><tr><th>模糊查询</th><th></th></tr></thead><tbody><tr><td>like</td><td>%xxxx%</td></tr><tr><td>notlike</td><td></td></tr><tr><td>likeLeft</td><td>%xxxx</td></tr><tr><td>likeRight</td><td>xxxx%</td></tr></tbody></table><h4 id="3-2-代码实现"><a href="#3-2-代码实现" class="headerlink" title="3.2 代码实现"></a>3.2 代码实现</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.likeLeft(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;zhang&quot;</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            SELECT id,user_name,password,name,age,email</span></span><br><span class="line"><span class="comment">             from tb_user</span></span><br><span class="line"><span class="comment">             where user_name like ?</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">             %zhang</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="4-排序查询"><a href="#4-排序查询" class="headerlink" title="4. 排序查询"></a>4. 排序查询</h3><h4 id="4-1分类"><a href="#4-1分类" class="headerlink" title="4.1分类"></a>4.1分类</h4><table><thead><tr><th>排序方式</th><th></th></tr></thead><tbody><tr><td><strong>orderBy</strong></td><td>自定义排序方式</td></tr><tr><td><strong>orderByDesc</strong></td><td>降序</td></tr><tr><td><strong>orderByAsc</strong></td><td>升序</td></tr></tbody></table><h4 id="4-2-代码实现"><a href="#4-2-代码实现" class="headerlink" title="4.2 代码实现"></a>4.2 代码实现</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>)</span><br><span class="line">                <span class="comment">//.orderBy(true,true,&quot;age&quot;)    </span></span><br><span class="line">               <span class="comment">//这里的orderBy三个参数，1.是否符合条件，符合则排序2.是否升序3.根据哪个字段排序</span></span><br><span class="line">                .orderByDesc(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            select * from tb_user where user_name = ? or age &lt; ? and name in (?,?) order by age asc</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="5-select（指定需要查询的字段）"><a href="#5-select（指定需要查询的字段）" class="headerlink" title="5. select（指定需要查询的字段）"></a>5. select（指定需要查询的字段）</h3> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>)</span><br><span class="line">                .orderByDesc(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">                .select(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;user_name&quot;</span>);<span class="comment">//这里是指定查询,里面写上需要查询的字段名,用逗号分隔</span></span><br><span class="line">        ;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            select id,user_name from tb_user where user_name = ? or age &lt; ? and name in (?,?) order by age asc</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="6-分页加条件查询"><a href="#6-分页加条件查询" class="headerlink" title="6. 分页加条件查询"></a>6. 分页加条件查询</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper6</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> current = <span class="number">1</span>;<span class="comment">//当前页码</span></span><br><span class="line">        <span class="keyword">int</span> size = <span class="number">2</span>;<span class="comment">//每页显示条数</span></span><br><span class="line">        <span class="comment">//1. 构建分页对象</span></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(current,size);</span><br><span class="line">        <span class="comment">//2. 构建条件对象</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper();</span><br><span class="line">        wrapper.lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>);<span class="comment">//这里表示要根据的条件</span></span><br><span class="line"></span><br><span class="line">        userMapper.selectPage(page,wrapper);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; records = page.getRecords();</span><br><span class="line">        <span class="keyword">long</span> total = page.getTotal();</span><br><span class="line">        <span class="keyword">long</span> pages = page.getPages();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="7-LambdaQueryWrapper（消除代码中的硬编码）"><a href="#7-LambdaQueryWrapper（消除代码中的硬编码）" class="headerlink" title="7. LambdaQueryWrapper（消除代码中的硬编码）"></a>7. LambdaQueryWrapper（消除代码中的硬编码）</h3><p> <img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201116012246.png" alt="image-20201116012246567"></p><h3 id="8-删除和修改的条件构造"><a href="#8-删除和修改的条件构造" class="headerlink" title="8. 删除和修改的条件构造"></a>8. 删除和修改的条件构造</h3><h4 id="8-1删除条件"><a href="#8-1删除条件" class="headerlink" title="8.1删除条件"></a>8.1删除条件</h4>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper8</span><span class="params">()</span></span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;bbb&quot;</span>);<span class="comment">//</span></span><br><span class="line">        userMapper.delete(wrapper);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="8-2修改条件"><a href="#8-2修改条件" class="headerlink" title="8.2修改条件"></a>8.2修改条件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper9</span><span class="params">()</span></span>&#123;</span><br><span class="line">        UpdateWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> UpdateWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">                .set(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;22222&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//update tb_user set password = ? where user_name = ?</span></span><br><span class="line">        userMapper.update(<span class="keyword">null</span>,wrapper);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper10</span><span class="params">()</span></span>&#123;</span><br><span class="line">        UpdateWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> UpdateWrapper&lt;&gt;();</span><br><span class="line">    <span class="comment">//条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//update tb_user set password = ?,age = ? where user_name = ?</span></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setPassword(<span class="string">&quot;3333&quot;</span>);</span><br><span class="line">        user.setAge(<span class="number">33</span>);</span><br><span class="line">        userMapper.update(user,wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="二-MyBatis-Plus向数据库表格中添加通用字段"><a href="#二-MyBatis-Plus向数据库表格中添加通用字段" class="headerlink" title="二. MyBatis-Plus向数据库表格中添加通用字段"></a>二. MyBatis-Plus向数据库表格中添加通用字段</h1><h4 id="1-实体类中"><a href="#1-实体类中" class="headerlink" title="1. 实体类中"></a>1. 实体类中</h4><p>给需要加入通用字段的属性上加如**@TableField(fill = FieldFill.INSERT_UPDATE)**表示插入，修改和插入时候可以自动填充</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> LocalDateTime lastUpdateTime;</span><br></pre></td></tr></table></figure><h4 id="2-创建一个工具类填充属性"><a href="#2-创建一个工具类填充属性" class="headerlink" title="2. 创建一个工具类填充属性"></a>2. 创建一个工具类填充属性</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>：ifuxing</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>：2020/2/19/15:18</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GeneralMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//重点是这个方法，第一个参数为需要设置的字段名，第二个是要设置的值</span></span><br><span class="line">setFieldValByName(<span class="string">&quot;lastUpdateTime&quot;</span>,LocalDateTime.now(),metaObject);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">insertFill(metaObject);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;MybBtis-Plus提供了AbstractWrapper抽象类，提供了很多SQL语法支持的方法，比如模糊查询，比较，区间，分组查询，排序，判断空，子查询等等，方便我们用面向对象的方式去实现sql语句；AbstractWrapper有两个常用的实现类，分别是QueryWrapper和UpdateWrapper，我们以后就用这两个实现类；&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://ifuxing.cool/categories/Java/"/>
    
    
    <category term="Efficient" scheme="http://ifuxing.cool/tags/Efficient/"/>
    
  </entry>
  
  <entry>
    <title>LomBok+MyBatis-Plus让你的代码更简介高效</title>
    <link href="http://ifuxing.cool/2020/02/17/MyBatisPlus+LomBok/"/>
    <id>http://ifuxing.cool/2020/02/17/MyBatisPlus+LomBok/</id>
    <published>2020-02-17T14:24:54.000Z</published>
    <updated>2020-11-23T07:44:30.439Z</updated>
    
    <content type="html"><![CDATA[<ul><li>Lombok是一种Java实用工具，能通过注解的方式，在编译时自动为属性生成构造器,可用来帮助开发人员消除Java的冗长代码，尤其是对于简单的Java对象（POJO）。</li><li>Mybatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</li></ul><a id="more"></a><h1 id="一-Lombok"><a href="#一-Lombok" class="headerlink" title="一.Lombok"></a>一.Lombok</h1><p>​    Lombok能通过注解的方式，在编译时自动为属性生成构造器、getter/setter、equals、hashcode、toString方法。出现的神奇就是在源码中没有getter和setter方法，但是在编译生成的字节码文件中有getter和setter方法。这样就省去了手动重建这些代码的麻烦，使代码看起来更简洁些。</p><h3 id="1-工程中导入依赖"><a href="#1-工程中导入依赖" class="headerlink" title="1.工程中导入依赖"></a>1.工程中导入依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-下载插件"><a href="#2-下载插件" class="headerlink" title="2. 下载插件"></a>2. 下载插件</h3><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201123115040.png" alt="image-20201123115040589"></p><h3 id="3-使用Lombok"><a href="#3-使用Lombok" class="headerlink" title="3. 使用Lombok"></a>3. 使用Lombok</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataExample</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line"><span class="keyword">private</span> String[] tags;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-相关注解"><a href="#4-相关注解" class="headerlink" title="4. 相关注解"></a>4. 相关注解</h3><p>这里列出常用注解，还有一些其他注解需要了解给大家推荐一个文章，<a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247485385&idx=2&sn=a7c3fb4485ffd8c019e5541e9b1580cd&chksm=cea24802f9d5c1144eee0da52cfc0cc5e8ee3590990de3bb642df4d4b2a8cd07f12dd54947b9&token=1667678311&lang=zh_CN&scene=21#wechat_redirect>">十分钟搞懂Java效率工具Lombok使用与原理</a>，这里面写的很详细</p><table><thead><tr><th>注解</th><th>解释</th></tr></thead><tbody><tr><td>@Data</td><td>@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode这5个注解的合集</td></tr><tr><td>@Setter</td><td>注解在属性上；为属性提供 setting 方法</td></tr><tr><td>@Getter</td><td>注解在属性上；为属性提供 getting 方法</td></tr><tr><td>@Slf4j</td><td>日志注解</td></tr><tr><td>@Synchronized</td><td>添加同步锁</td></tr><tr><td>@ToString</td><td>添加toString方法</td></tr><tr><td>@NoArgsConstructor</td><td>提供一个无参的构造方法</td></tr></tbody></table><h3 id="5-Accessors"><a href="#5-Accessors" class="headerlink" title="5. @Accessors"></a>5. @Accessors</h3><p>翻译是存取器。通过该注解可以控制getter和setter方法的形式</p><ul><li> fluent 若为true，则getter和setter方法的方法名都是属性名，且setter方法返回当前对象</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Accessors(fluent = true)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 生成的getter和setter方法如下，方法体略</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">id</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">id</span><span class="params">(Integer id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">name</span><span class="params">(String name)</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>chain 若为true，则setter方法返回当前对象</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Accessors(chain = true)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 生成的setter方法如下，方法体略</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">setId</span><span class="params">(Integer id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">setName</span><span class="params">(String name)</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>prefix 若为true，则getter和setter方法会忽视属性名的指定前缀（遵守驼峰命名）</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Accessors(prefix = &quot;f&quot;)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer fId;</span><br><span class="line">    <span class="keyword">private</span> String fName;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 生成的getter和setter方法如下，方法体略</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">id</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">id</span><span class="params">(Integer id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">name</span><span class="params">(String name)</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二-MyBatis-Plus"><a href="#二-MyBatis-Plus" class="headerlink" title="二. MyBatis-Plus"></a>二. MyBatis-Plus</h2><h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h3><p>​        Mybatis-Plus（简称 MP）是一个 Mybatis 的增强工具，在 Mybatis 的基础上只做增强不做改变，为简化开发、提高效率而生。那么它是怎么增强的呢？其实就是它已经封装好了一些 crud 方法，我们不需要再写 xml 了，直接调用这些方法就行。</p><h3 id="2-特性"><a href="#2-特性" class="headerlink" title="2. 特性"></a>2. 特性</h3><table><thead><tr><th align="left">特性</th><th>解释</th></tr></thead><tbody><tr><td align="left"><strong>无侵入</strong></td><td>只做增强不做改变，引入它不会对现有工程产生影响</td></tr><tr><td align="left"><strong>损耗小</strong></td><td>启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</td></tr><tr><td align="left"><strong>强大的 CRUD 操作</strong></td><td>内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</td></tr><tr><td align="left"><strong>支持 Lambda 形式调用</strong></td><td>通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</td></tr><tr><td align="left"><strong>支持主键自动生成</strong></td><td>支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</td></tr><tr><td align="left"><strong>支持自定义全局通用操作</strong></td><td>支持全局通用方法注入（ Write once, use anywhere ）</td></tr><tr><td align="left"><strong>内置代码生成器</strong></td><td>采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</td></tr><tr><td align="left"><strong>内置分页插件</strong></td><td>基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</td></tr><tr><td align="left"><strong>分页插件支持多种数据库</strong></td><td>支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer2005、SQLServer 等多种数据库</td></tr><tr><td align="left"><strong>内置性能分析插件</strong></td><td>可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</td></tr><tr><td align="left"><strong>内置全局拦截插件</strong></td><td>提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</td></tr></tbody></table><h3 id="3-SpringBoot整合Mybatis-Plus"><a href="#3-SpringBoot整合Mybatis-Plus" class="headerlink" title="3. SpringBoot整合Mybatis-Plus"></a>3. SpringBoot整合Mybatis-Plus</h3><h4 id="3-1创建SpringBoot工程，引入Mybatis-Plus依赖"><a href="#3-1创建SpringBoot工程，引入Mybatis-Plus依赖" class="headerlink" title="3.1创建SpringBoot工程，引入Mybatis-Plus依赖"></a>3.1创建SpringBoot工程，引入Mybatis-Plus依赖</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Spring boot 版本信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--springboottest--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mybatis-plus 起步依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mybatis-plus end--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-2-编写相关配置"><a href="#3-2-编写相关配置" class="headerlink" title="3.2 编写相关配置"></a>3.2 编写相关配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">mybatisPlus-demo</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://ip:3306/mp?serverTimezone=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.itheima:</span> <span class="string">debug</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9300</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># mybatis-plus相关配置</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">    <span class="attr">globle-config:</span></span><br><span class="line">        <span class="attr">db-config:</span></span><br><span class="line">          <span class="comment"># 表名前缀</span></span><br><span class="line">          <span class="attr">table-prefix:</span> <span class="string">tb_</span><span class="comment"># 数据库如果有统一的前缀名可以加这个，然后实体类可以省相关的注解</span></span><br><span class="line">            <span class="comment"># 主键的生产方式</span></span><br><span class="line">            <span class="attr">id-type:</span> <span class="string">auto</span></span><br></pre></td></tr></table></figure><h4 id="3-4建一个User表供测试使用"><a href="#3-4建一个User表供测试使用" class="headerlink" title="3.4建一个User表供测试使用"></a>3.4建一个User表供测试使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> mp;</span><br><span class="line"><span class="keyword">USE</span> mp;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建测试表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tb_user`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  <span class="string">`user_name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">  <span class="string">`password`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  <span class="string">`age`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">  <span class="string">`email`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入测试数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_user`</span> (<span class="string">`id`</span>, <span class="string">`user_name`</span>, <span class="string">`password`</span>, <span class="string">`name`</span>, <span class="string">`age`</span>, <span class="string">`email`</span>) <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;18&#x27;</span>, <span class="string">&#x27;test1@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_user`</span> (<span class="string">`id`</span>, <span class="string">`user_name`</span>, <span class="string">`password`</span>, <span class="string">`name`</span>, <span class="string">`age`</span>, <span class="string">`email`</span>) <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;test2@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_user`</span> (<span class="string">`id`</span>, <span class="string">`user_name`</span>, <span class="string">`password`</span>, <span class="string">`name`</span>, <span class="string">`age`</span>, <span class="string">`email`</span>) <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;28&#x27;</span>, <span class="string">&#x27;test3@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_user`</span> (<span class="string">`id`</span>, <span class="string">`user_name`</span>, <span class="string">`password`</span>, <span class="string">`name`</span>, <span class="string">`age`</span>, <span class="string">`email`</span>) <span class="keyword">VALUES</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;zhaoliu&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;赵六&#x27;</span>, <span class="string">&#x27;21&#x27;</span>, <span class="string">&#x27;test4@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_user`</span> (<span class="string">`id`</span>, <span class="string">`user_name`</span>, <span class="string">`password`</span>, <span class="string">`name`</span>, <span class="string">`age`</span>, <span class="string">`email`</span>) <span class="keyword">VALUES</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;sunqi&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;孙七&#x27;</span>, <span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;test5@itcast.cn&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="3-5-编写实体类（这里用来上述的LomBok）"><a href="#3-5-编写实体类（这里用来上述的LomBok）" class="headerlink" title="3.5 编写实体类（这里用来上述的LomBok）"></a>3.5 编写实体类（这里用来上述的LomBok）</h4><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115170915.png" alt="image-20201115170915485"></p><h4 id="3-5-编写mapper"><a href="#3-5-编写mapper" class="headerlink" title="3.5 编写mapper"></a>3.5 编写mapper</h4><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115182957.png" alt="image-20201115182914784"></p><h4 id="3-6编写启动类"><a href="#3-6编写启动类" class="headerlink" title="3.6编写启动类"></a>3.6编写启动类</h4><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201123143037.png" alt="image-20201123143037717"></p><h3 id="4-基础的增删改查"><a href="#4-基础的增删改查" class="headerlink" title="4. 基础的增删改查"></a>4. 基础的增删改查</h3><h4 id="4-1-增加"><a href="#4-1-增加" class="headerlink" title="4.1 增加"></a>4.1 增加</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="comment">//先创建一个要添加的对象，</span></span><br><span class="line">     User user = <span class="keyword">new</span> User();</span><br><span class="line">     user.setName(<span class="string">&quot;kobe&quot;</span>);</span><br><span class="line">     user.setAge(<span class="number">18</span>);</span><br><span class="line">     user.setPassword(<span class="string">&quot;1231421&quot;</span>);</span><br><span class="line">     user.setUserName(<span class="string">&quot;925555&quot;</span>);</span><br><span class="line">     <span class="keyword">int</span> result = userDao.insert(user);</span><br><span class="line">     System.out.println(result);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="4-2-删除"><a href="#4-2-删除" class="headerlink" title="4.2  删除"></a>4.2  删除</h4><p>四种删除方法</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115200013.png" alt="image-20201115200013776"></p><p>代码实现</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115195839.png" alt="image-20201115195839105"></p><h4 id="4-3-更新"><a href="#4-3-更新" class="headerlink" title="4.3  更新"></a>4.3  更新</h4><p> 两种更新方法</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115200423.png" alt="image-20201115200423286"></p><p> 代码实现</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115201337.png" alt="image-20201115201337151"></p><h4 id="4-4-分页查询"><a href="#4-4-分页查询" class="headerlink" title="4.4 分页查询"></a>4.4 分页查询</h4><p>代码实现</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201115205245.png" alt="image-20201115205245451"></p><p> ==注意事项==</p><p>使用mp的分页查询必须要设置一个拦截器</p><p><strong>3.4.0之前的版本用这个</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure><p><strong>3.4.0之后提供的拦截器配置方式</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MybaticPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">    MybatisPlusInterceptor mybatisPlusInterceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">    mybatisPlusInterceptor .addInnerInterceptor(<span class="keyword">new</span> PaginationInnerceptor());</span><br><span class="line">    <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-MyBatis-plus封装service层"><a href="#5-MyBatis-plus封装service层" class="headerlink" title="5. MyBatis-plus封装service层"></a>5. MyBatis-plus封装service层</h3><h4 id="5-1接口"><a href="#5-1接口" class="headerlink" title="5.1接口"></a>5.1接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口继承IService</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> <span class="keyword">extends</span> <span class="title">IService</span>&lt;<span class="title">User</span>&gt;</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-实现类"><a href="#5-2-实现类" class="headerlink" title="5.2 实现类"></a>5.2 实现类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现类继承ServiceImpl&lt;Mapper,Entity&gt;实现定义接口</span></span><br><span class="line"><span class="comment">//其中Mapper为该接口对应的Mapper接口，Entity是对应的实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title">ServiceImpl</span>&lt;<span class="title">UserMapper</span>,<span class="title">User</span>&gt; <span class="keyword">implements</span> <span class="title">UserService</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul&gt;
&lt;li&gt;Lombok是一种Java实用工具，能通过注解的方式，在编译时自动为属性生成构造器,可用来帮助开发人员消除Java的冗长代码，尤其是对于简单的Java对象（POJO）。&lt;/li&gt;
&lt;li&gt;Mybatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="Java" scheme="http://ifuxing.cool/categories/Java/"/>
    
    
    <category term="Efficient" scheme="http://ifuxing.cool/tags/Efficient/"/>
    
  </entry>
  
  <entry>
    <title>简述Spring Boot原理分析_</title>
    <link href="http://ifuxing.cool/2019/02/13/%E7%AE%80%E8%BF%B0SpringBoot%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90_/"/>
    <id>http://ifuxing.cool/2019/02/13/%E7%AE%80%E8%BF%B0SpringBoot%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90_/</id>
    <published>2019-02-13T11:46:25.000Z</published>
    <updated>2020-11-21T14:39:44.704Z</updated>
    
    <content type="html"><![CDATA[<p>​        Spring Boot基于Spring4.0设计的，不仅继承了Spring框架原有的优秀特性，而且还通过简化配置来进一步简化了Spring应用的整个搭建和开发过程。另外Spring Boot通过集成大量的框架使得依赖包的版本冲突，以及引用的不稳定性等问题得到了很好的解决。以下纯属个人简单的了解，并没有列出源码深入叙述，是为了帮助自己更好的理解Spring Boot。</p><a id="more"></a><h2 id="自动配置原理"><a href="#自动配置原理" class="headerlink" title="自动配置原理"></a>自动配置原理</h2><h3 id="Conditional注解"><a href="#Conditional注解" class="headerlink" title="@Conditional注解"></a>@Conditional注解</h3><ul><li><p>@Condition是Spring4.0后引入的条件化配置接口，通过实现Condition接口可以完成有条件的加载相应的Bean</p></li><li><p>@Conditional要配和Condition的实现类（ClassCondition）进行使用</p><ul><li><h4 id="实现流程"><a href="#实现流程" class="headerlink" title="实现流程"></a>实现流程</h4><ol><li><p>加上@Conditionl注解后会对这个已经注入到Spring的IOC容器中Bean进行判断，该注解有很多实现类，是根据各种不同的情况来判断，大多通过获取注解中的字节码文件来进行判断，可以根据所有的方法名来了解该功能</p></li><li><p>是根据Condition接口中的matches方法的返回值进行判断，该方法有两个参数对象，ConditionContext context和AnnotatedTypeMetadata metadata</p><ul><li>context：上下文对象，用来获取环境，IOC容器和ClassLoader对象</li><li>metadata：注解元对象，用来获取注解定义的属性值，通过getAnnotationAttributes方法获取</li></ul></li><li><p>true则将Spring IOC容器中的Bean进行加载，否则不加载</p></li><li><p>常用条件注解</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/self-disciplined/pic_star@main/notes-pic/20201103210940.png" alt="image-20201103210939890"></p></li><li><p>代码示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserConfig</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">      <span class="meta">@Bean</span></span><br><span class="line">      <span class="comment">//字节码存在则加载下面的Bean</span></span><br><span class="line">      <span class="meta">@ConditionOnClass(&quot;com.alibaba.fastjson.JSON&quot;)</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> User <span class="title">user</span><span class="params">()</span></span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> User();</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="meta">@Bean</span></span><br><span class="line">      <span class="meta">@ConditionalOnProperty(name = &quot;itcast&quot;,havingValue = &quot;itheima&quot;)</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> User <span class="title">user2</span><span class="params">()</span></span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> User();</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul></li></ul><h3 id="切换内置服务器"><a href="#切换内置服务器" class="headerlink" title="切换内置服务器"></a>切换内置服务器</h3><ul><li><h4 id="流程："><a href="#流程：" class="headerlink" title="流程："></a>流程：</h4><ol><li>在pom文件中将starter-web的依赖中排除starter-tomcat的依赖</li><li>加入starter-jetty的依赖即可</li></ol></li><li><h4 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h4><ul><li>同样是根据@Condition注解的原理判断是否存在相关以来的类的字节码名称，存在才会加载Spring的IOC容器中的相关的bean</li></ul></li></ul><h3 id="Enable-的相关注解"><a href="#Enable-的相关注解" class="headerlink" title="@Enable* 的相关注解"></a>@Enable* 的相关注解</h3><ul><li>用于动态开启某种功能（就是获取相关类及其所含方法），==底层原理的就是使用@import注解导入一些配置类，实现Bean的动态加载==</li><li>==注意：==Spring Boot工程不能直接获取jar包中定义的Bean<ul><li>原因：@ComponentScan的扫描范围是当前引导类所在的包及其子包</li><li>解决：<ol><li>使用@ComponentScan扫描com.itheima.config（配置类）</li><li>可使用@import注解来加载类，使这些类都会被Spring创建，并注入IOC容器</li><li>将上述的@import注解进行封装并使用</li></ol></li></ul></li></ul><h3 id="Import注解"><a href="#Import注解" class="headerlink" title="@Import注解"></a>@Import注解</h3><ul><li><p>@Enable*底层依赖于@Import注解导入一些类，使用@Import导入的类会被Spring加载到IOC容器中。而@Import提供4中用法：</p><ol><li><p><strong>导入Bean</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(User.class)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      ConfigurableApplicationContext context = SpringApplication.run(Spring BootEnableApplication.class, args);</span><br><span class="line">  </span><br><span class="line">      <span class="comment">//直接导入Bean创建出来的名字不一定与导入的相同，需要用这个方法查看一下</span></span><br><span class="line">      User user = context.getBean(User.class); </span><br><span class="line">      System.out.println(user);</span><br><span class="line">  </span><br><span class="line">      Role role = context.getBean(Role.class);</span><br><span class="line">      System.out.println(role);</span><br><span class="line">      Map&lt;String, User  map = context.getBeansOfType(User.class);</span><br><span class="line">      System.out.println(map);</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>导入配置类</strong></p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107145805.png" alt="image-20201107145805680"></p></li><li><p><strong>导入 ImportSelector 实现类。一般用于加载配置文件中的类</strong></p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107151352.png" alt="image-20201107151352162"></p></li><li><p><strong>导入 ImportBeanDefinitionRegistrar 实现类。</strong></p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107154713.png" alt="image-20201107154713551"></p></li></ol></li></ul><p>​    </p><h3 id="EnableAutoConfiguration"><a href="#EnableAutoConfiguration" class="headerlink" title="@EnableAutoConfiguration"></a>@EnableAutoConfiguration</h3><ul><li><strong>介绍</strong><ol><li>@EnableAutoConfiguration 注解内部使用@Import(AutoConfigurationImportSelector.class)来加载配置类。 </li><li> 配置文件位置：META-INF/spring.factories，该配置文件中定义了大量的配置类，当 Spring Boot 应用启动时，会自动加载这些配置类，初始化Bean</li><li>==注意：==并不是所有的Bean都会被初始化，在配置类中使用Condition来加载满足条件的Bean</li></ol></li></ul><h3 id="自定义starter步骤分析"><a href="#自定义starter步骤分析" class="headerlink" title="自定义starter步骤分析"></a>自定义starter步骤分析</h3><ul><li><p><strong>需求：</strong></p></li><li><p>自定义redis-starter，要求当导入redis坐标时，Spring Boot自动创建Jedis的Bean。</p><ul><li><strong>步骤：</strong></li></ul></li></ul><ol><li>创建 redis-spring-boot-autoconfigure 模块<ol start="2"><li>创建 redis-spring-boot-starter 模块,依赖 redis-spring-boot-autoconfigure的模块</li><li>在 redis-spring-boot-autoconfigure 模块中初始化 Jedis 的 Bean。并定义META-INF/spring.factories 文件</li><li>在测试模块中引入自定义的 redis-starter 依赖，测试获取 Jedis 的Bean，操作 redis。</li></ol></li></ol><hr><h2 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h2><ul><li><p><strong>简介</strong></p><ul><li>Java中的事件监听机制定义了以下几个角色：</li><li><ol><li>事件：Event，继承 java.util.EventObject 类的对象</li><li>事件源：Source ，任意对象Object</li><li>监听器：Listener，实现 java.util.EventListener 接口 的对象</li></ol></li></ul></li><li><p><strong>Spring Boot 在项目启动时，会对几个监听器进行回调</strong></p><ul><li>==其中==：<ul><li>MyApplicationRunner和MyCommandLineRunner都是当项目启动后执行，使用@Component放入容器即可使用</li><li>MyApplicationContextInitializer和SpringApplicationRunListener的使用时,要在resource文件夹下添加META-INF/spring.factories,在配置文件中加入配置</li></ul></li></ul><ol><li><p>ApplicationRunner</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当项目启动后执行run方法。</span></span><br><span class="line"><span class="comment"> * 可以在项目启动时，自动调用run方法，比如需要在项目开启时加入数据库缓存，（缓存预热）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplicationRunner</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ApplicationRunner...run&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.asList(args.getSourceArgs()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li><li><p>CommandLineRunner</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCommandLineRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;CommandLineRunner...run&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.asList(args));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ApplicationContextInitializer</p><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107211340.png" alt="image-20201107211340369"></p></li><li><p>SpringApplicationRunListener</p></li></ol><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107212127.png" alt="image-20201107212127309"></p></li></ul><h2 id="启动流程图"><a href="#启动流程图" class="headerlink" title="启动流程图"></a>启动流程图</h2><p><img src="/images/loading.png" data-original="https://cdn.jsdelivr.net/gh/ifuxing/pic_star@main/notes-pic/20201107222428.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;​        Spring Boot基于Spring4.0设计的，不仅继承了Spring框架原有的优秀特性，而且还通过简化配置来进一步简化了Spring应用的整个搭建和开发过程。另外Spring Boot通过集成大量的框架使得依赖包的版本冲突，以及引用的不稳定性等问题得到了很好的解决。以下纯属个人简单的了解，并没有列出源码深入叙述，是为了帮助自己更好的理解Spring Boot。&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://ifuxing.cool/categories/Java/"/>
    
    
    <category term="Spring Boot" scheme="http://ifuxing.cool/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>测试密码</title>
    <link href="http://ifuxing.cool/2018/12/13/%E5%AF%86%E7%A0%81%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    <id>http://ifuxing.cool/2018/12/13/%E5%AF%86%E7%A0%81%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95/</id>
    <published>2018-12-13T12:46:25.000Z</published>
    <updated>2020-11-20T15:49:57.063Z</updated>
    
    <content type="html"><![CDATA[<p>不论什么时候，心里要有爱，眼里要有光</p><a id="more"></a><p>这里更多的内容</p><p>这里是18年，我刚入职不久，我希望能成为一个有价值的人</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;不论什么时候，心里要有爱，眼里要有光&lt;/p&gt;</summary>
    
    
    
    <category term="Diary" scheme="http://ifuxing.cool/categories/Diary/"/>
    
    
    <category term="Testing" scheme="http://ifuxing.cool/tags/Testing/"/>
    
  </entry>
  
</feed>
